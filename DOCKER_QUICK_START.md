# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

## –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker Desktop

–°–∫–∞—á–∞–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ Docker Desktop –¥–ª—è Windows:
https://www.docker.com/products/docker-desktop

### 2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª

```bash
# –°–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω
cp .env.template .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª –∏ –∑–∞–ø–æ–ª–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

### 3. –°–æ–±–µ—Ä–∏ –∏ –∑–∞–ø—É—Å—Ç–∏

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π Makefile
make docker-build
make docker-up

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é docker compose
docker compose up -d --build
```

### 4. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É

–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä: http://localhost:3000

### 5. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
make docker-logs
# –∏–ª–∏
docker compose logs -f
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker compose ps

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker compose up -d --build

# –û—á–∏—Å—Ç–∫–∞
docker system prune -af
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker —Ñ–∞–π–ª–æ–≤

```
white-wolf-nextjs/
‚îú‚îÄ‚îÄ Dockerfile                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ .dockerignore                # –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ docker-compose.yml           # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ docker-compose.override.yml  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .env                         # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ .env.template                # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ traefik/
    ‚îú‚îÄ‚îÄ traefik.yml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Traefik
    ‚îú‚îÄ‚îÄ config.yml               # Middleware
    ‚îî‚îÄ‚îÄ acme.json                # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
```

## –û—Ç–ª–∏—á–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ production –¥–µ–ø–ª–æ—è

### –õ–æ–∫–∞–ª—å–Ω–æ

- HTTP –Ω–∞ `localhost:3000`
- –ù–µ—Ç Traefik (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
- –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### Production (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

- HTTPS —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- Traefik –¥–ª—è reverse proxy
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã

## Troubleshooting

### –ü–æ—Ä—Ç 3000 —É–∂–µ –∑–∞–Ω—è—Ç

```bash
# Windows
netstat -ano | findstr :3000
taskkill /PID <PID> /F

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
# –û—á–∏—Å—Ç–∏ –∫–µ—à Docker
docker builder prune -af

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ —Å –Ω—É–ª—è
docker compose build --no-cache
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
docker compose logs whitewolf

# –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª
cat .env
```

---

–î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å–º–æ—Ç—Ä–∏ `DEPLOYMENT.md`
